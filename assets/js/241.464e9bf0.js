(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{622:function(s,t,n){"use strict";n.r(t);var a=n(26),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"安装-mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql"}},[s._v("#")]),s._v(" 安装 Mysql")]),s._v(" "),n("h2",{attrs:{id:"下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.下载 mysql 源安装包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.安装 MySQL 源")]),s._v("\nyum localinstall mysql80-community-release-el7-1.noarch.rpm\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.检查是否安装成功")]),s._v("\nyum repolist enabled "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql.*-community.*"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.安装 mysql")]),s._v("\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.启动")]),s._v("\nsystemctl start mysqld\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6.查看启动状态")]),s._v("\nsystemctl status mysqld\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld status\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7.设置开启启动")]),s._v("\nsystemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld\nsystemctl daemon-reload\n")])])]),n("h2",{attrs:{id:"配置及部分命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置及部分命令"}},[s._v("#")]),s._v(" 配置及部分命令")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.修改登录密码")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql 安装完成之后，在/var/log/mysqld.log 文件中给 root 生成了一个默认密码。通过下面的方式找到 root 默认密码，然后登录 mysql 进行修改：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地 MySQL 客户端登录")]),s._v("\nmysql -uroot -p\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改密码")]),s._v("\nALTER "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" password "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出mysql，重新启动 mysql 服务使配置生效")]),s._v("\nquit\nsystemctl restart mysqld\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.添加远程登陆用户")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认只允许 root 帐户在本地登录，如果要在其它机器上连接 mysql，必须修改 root 允许远程连接，或者添加一个允许远程连接的帐户。")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 root 用户远程访问权限：")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先登录mysql,然后选择 mysql 数据库：")]),s._v("\nuse mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 mysql 数据库的 user 表中查看当前 root 用户的相关信息：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" host, user from user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看表格中 root 用户的 host，默认应该显示的 localhost，只支持本地访问，不允许远程访问。")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 授权 root 用户的所有权限并设置远程访问")]),s._v("\nGRANT ALL ON *.* TO "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果报错：ERROR 1410 (42000): You are not allowed to create a user with GRANT，则使用")]),s._v("\nupdate user "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("host")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" where user "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 刷新命令")]),s._v("\nflush privileges"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("h2",{attrs:{id:"彻底卸载-mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#彻底卸载-mysql"}},[s._v("#")]),s._v(" 彻底卸载 mysql")]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.卸载软件")]),s._v("\nyum remove mysql-community-server\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.完成后使用命令查看")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.如果有查询结果，则使用命令清理掉")]),s._v("\nyum remove 名称\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.再使用命令查看")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -i mysql\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.如果有结果，则使用命令清理掉")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e 名称\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6.删除文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /var/lib/mysql\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/my.cnf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /usr/share/mysql-8.0\n")])])]),n("h2",{attrs:{id:"本地上传安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地上传安装"}},[s._v("#")]),s._v(" 本地上传安装")]),s._v(" "),n("p",[s._v("https://blog.csdn.net/qq_41510551/article/details/110731610")])])}),[],!1,null,null,null);t.default=e.exports}}]);